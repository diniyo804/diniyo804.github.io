---
layout: post
category: TIL (Today I Learned)
title: 19-03-14-TIL
permalink: /til:/:year/:month/:day/:title/
tags: TIL
comments: true
---

## 오늘 한 일
- Garbage Collection 과정에 대해 알아보았다.
    - 톰캣 위에서 JVM이 구동되면 Young 영역과 Old 영역이 만들어진다.   
    애플리케이션이 실행되면서 생성되는 무수한 객체들은 이 영역에 존재한다고 생각하면 될 것 같다.   
    먼저, 새롭게 생성된 객체는 Young 영역에 존재하게 되는데 애플리케이션 실행 과정에서 
    객체들은 빠른시간 내에 접근하지 않는 상태, 즉 아무도 사용하지 않는 상태가 된다.  
    아무도 접근하지 않는 객체들은 Young 영역에 머물러 있다가 그대로 사라지는데 이를 minor GC 라고 한다.
    - 그리고 생성된지 비교적 오래된 인스턴스임에도 계속해서 빈번한 접근이 일어나는 경우 해당 객체는 Old 영역으로 복사된다.  
    그러다가 Old 영역이 가득 찰 경우 GC가 발생하는데 이를 major GC 혹은 full GC 라고 한다.  
    - 주의할 점은 GC가 일어나는동안 JVM은 애플리케이션 실행을 일시정지 시키는데 이를 stop-the-world 라고한다.
    따라서 GC가 빈번하게 일어날경우 애플리케이션 작동에 안좋은 영향을 미치는게 분명한 것같은데 정확하게 어떤 안좋은 영향인지 잘 모르겠다.
    - 아무튼 이런 현상이 자주 일어나면 DB에 부하를 줄 수 있기 때문에 Kafka를 이용하여 요청을 분산시키는 방법을 사용하기도 한다.

    - GC가 빈번하게 일어날 경우 애플리케이션이 중지됨으로써 어떤점이 안좋은가?
        - 애플리케이션 동작의 지연?
        - 애플리케이션이 일시중지됐다 다시 실행됐다를 반복하면서 요청이 병목현상처럼 일어나 DB에 부하를 주는 것..?일까?
    - Old 영역에서 full GC가 발생할 경우 사용되지 않는 메모리만 지워지는 것인지? 
    - 만약 Old 영역이 빈번하게 사용되고 있는 객체들로 가득 찰 경우에는 사용되는 우선순위에 따라 full GC가 일어나는것인지?  

## 마무리 
 - 어디에서 무엇을 하든 늘 배울점은 존재하는 것 같다. 하지만 언제나 그런 것도 아닌 것 같다.   
 나의 마음가짐에 따라 내가 있는 곳이 배울점이 많은 곳이 되기도, 아닌 곳이 되기도 한다.   
 나는 이곳에서 얼마나 배우고 있을까? 배운 것들을 잘 소화하고는 있는걸까..?   
 이게 정말 내 길이 맞는걸까 싶다가도 또 정말 잘해보고 싶다는 생각이 들다가도..  
 뭔가 정말 나는 바보인걸까 라는 생각이 들기도 하는 요즘이다..ㅜ,ㅜ   
 - 그리고 무엇을 하든 자신감과 긍정적인 사고를 잃지 않는게 가장 중요한 것 같다.   
 말은 쉬운데 나에겐 정말 늘 어려운 숙제처럼 남아있다.  
 주변 상황에 흔들리지 않고, 흔들리더라도 잠시뿐인 좀 더 밝고 편한 내가 되었음 좋겠다 :)   
 
 >[NAVER D2 : Java Garbage Collection](https://d2.naver.com/helloworld/1329)
 