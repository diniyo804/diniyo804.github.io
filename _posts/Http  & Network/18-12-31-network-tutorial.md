---
layout: post
title: Http & Network - 웹과 네트워크의 기본
category: Http & Network
tags: [http, network]
comments: true
---

## 웹과 네트워크의 기본
웹이라는 세계가 어떤 기술로 구성되어 있는지, HTTP는 어떻게 성장해 왔는지 배워본다.


## 1.1 웹은 HTTP로 나타낸다.
```
웹 브라우저의 주소창에 주소를 입력하면 웹 페이지를 볼 수 있다. 
이러한 웹 페이지는 어떻게 볼 수 있는 걸까?
```
웹 브라우저는 주소창의 URL에 의지해 웹 서버로부터 리소스라는 데이터를 얻어온다.  
이렇게 웹 브라우저에서 서버까지의 흐름을 결정하고 있는 것은 **HTTP**라고 부르는 **프로토콜**이다.   
프로토콜은 약속/규칙이란 의미로, 웹은 HTTP라는 룰 내에서 통신한다.  


## 1.2 웹은 지식 공유를 위해 고안되었다.
[CERN](https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%9F%BD_%EC%9E%85%EC%9E%90_%EB%AC%BC%EB%A6%AC_%EC%97%B0%EA%B5%AC%EC%86%8C)의 
팀 버너스 리 박사는 동료들과 지식을 공유하기 위한 시스템을 고안한다.   
이 시스템은 훗날, [HyperText](https://ko.wikipedia.org/wiki/%ED%95%98%EC%9D%B4%ED%8D%BC%ED%85%8D%EC%8A%A4%ED%8A%B8)에 
의해 상호간 연결되어있는 World Wide Web의 근간이 된다.
당시 WWW를 구성하는 기술로서, 문서 기술 언어(HTML), 문서 전송 프로토콜(HTTP), 문서의 주소 지정 방법(URL)이 제안되었다.  
WWW는 지금으로 말하자면 웹 브라우저, 그 당시에는 HyperText를 열람할 수 있는 어플리케이션의 명칭이었다.
현재는 일련의 시스템 구조를 뜻하는 용어로 사용되어 WWW 혹은 단순히 웹이라 불린다.  


## 1.3 진보 안하는 HTTP
**HTTP/1.0**  
- HTTP 프로토콜이 정식 사양으로 공개된 것은 1996년 5월이다.   
이 때 HTTP/1.0으로 RFC1945가 발행되었다. 현재에도 많은 서버에서 사용된다.  

**HTTP/1.1**  
- 1997년에 공개되어 가장 많이 사용되고 있다. 당시 사양은 RFC2068이지만 지금은 RFC2616이 최신 버전이다.
현재 HTTP/2.0이 책정되어 있지만 널리 사용되기까지 시간이 걸릴 것이다. 
HTTP는 주로 웹 문서나 텍스트 전송을 위한 프로토콜이었지만, 여러 응용 기능이 계속해서 추가되었다.
지금은 웹이라는 틀을 넘어 다양하게 사용되는 프로토콜이다.


## 1.4 네트워크의 기본은 TCP/IP
컴퓨터와 네트워크 기기가 서로 통신하기 위해서는 동일한 방법으로 통신해야 한다. 
어떻게 상대를 찾고 어떤 언어로 대화 할지 등의 규칙이 필요하다.
이러한 규칙을 프로토콜이라고 하는데, 인터넷과 관련된 프로토콜을 모아 TCP/IP라고 부른다.   
인터넷을 포함하여 일반적으로 사용하는 네트워크는 TCP/IP 프로토콜 내에서 움직이고 있다. HTTP는 그 중 하나이다.  


## 1.5 계층으로 관리하는 TCP/IP
TCP/IP는 4계의 계층으로 나뉘어져 있다. 이는 유지보수와 설계를 좀 더 자유롭게 해준다!
인터넷이 계층화되어 있으면 어디선가 사양이 변경되었을 때 해당 계층만 변경하면 된다. 
또한 각 계층이 연결되어 있는 부분만 공통적으로 설정해두고, 각 계층의 내부는 자유롭게 설계할 수 있다.


## 1.6 TCP/IP 각 계층의 역할
**1. 애플리케이션 계층**
- 유저가 사용하는 애플리케이션에서 통신의 움직임을 결정한다. HTTP 또한 해당 계층에 포함된다.
- FTP와 DNS등도 애플리케이션의 한 가지이다.

**2. 트랜스포트 계층**  
- 애플리케이션 계층에 네트워크로 접속되어있는 2대의 **컴퓨터 사이에서 데이터 흐름**을 제공한다.
- TCP(Transmission Control Protocol)와 UDP(User Data Protocol) 프로토콜이 존재한다.  

**3. 네트워크 계층(인터넷 계층)**    
- 네트워크 상에서 패킷(전송하는 데이터의 최소단위)의 이동을 관리한다. 
- 어떠한 절차와 경로를 거쳐 상대의 컴퓨터까지 패킷을 보낼지 결정한다.  

**4. 링크계층**  
- 네트워크에 접속하는 하드웨어를 다룬다. 
[디바이스 드라이버](http://mobileandlife.tistory.com/entry/%EC%9E%A5%EC%B9%98-%EB%93%9C%EB%9D%BC%EC%9D%B4%EB%B2%84Device-Driver%EB%9E%80)와 [네트워크 인터페이스 카드](https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4_%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC), 케이블 등과 같이 물리적으로 보이는 여러가지 전송 매체도 포함된다.   
 

## 1.7 TCP/IP 통신의흐름
TCP/IP로 통신을 할 때는 4개의 방(계층)을 순서대로 거쳐가며 통신 한다. 
방을 지날 때마다 송신 측에서는 헤더(해당 계층에서 필요한 정보)를 추가 한다. 반대로 수신 측에서는 사용한 헤더를 하나씩 삭제한다. 
헤더를 추가하여 정보를 감싸는 형태를 캡슐화라 부른다.

![tcp-ip](https://user-images.githubusercontent.com/40746309/50560802-a561cd00-0d47-11e9-8184-2446037674d9.png)


## HTTP와 IP/TCP/DNS 프로토콜

### 1. 배송 담당 IP
- IP 프로토콜의 역할은 각각의 패킷을 상대방에게 전달하는 것이다.
    - 패킷을 전달하기 위해 IP 주소와 MAC 주소가 필요하다.
    - IP 주소는 각 노드에 부여된 주소이고, MAC 주소는 각 네트워크 카드에 할당된 고유 주소이다.
    - IP 주소는 변경 가능하지만 MAC 주소는 변경할 수 없다.
    - 인터넷에서는 상대방에게 도달하기 위해 여러 대의 컴퓨터와 네트워크 기기를 거친다. 
    다음으로 넘어갈 곳의 MAC 주소를 이용해 목적지를 찾아가는데 이 때, ARP(Address Resolution Protocol)이라는 프로토콜을 사용한다.   


### 2. 신뢰성을 담당하는 TCP
 - TCP(Transfer Control Protocol)는 계층으로 말하자면 트랜스포트 계층에 해당한다.
    - 대용량의 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 상대에게 보내고, 
    정확히 도착했는지 확인하는 역할을 한다.(=바이트 스트림 서비스)
- 상대에게 데이터를 확실하게 보내는 것이 일이다.
    - 확실한 데이터 송신을 위해 TCP는 **three way handshaking**이라는 방법을 사용한다.
    - 이 방법은 패킷을 보낸 후 제대로 보내졌는지의 여부를 확인하는 것이다.

### 3. 이름 해결을 담당하는 DNS
- DNS(Domain Name Syste)는 HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소를 확인한다.
    - 컴퓨터에는 IP 주소와는 별도로 호스트 이름과 도메인 이름을 붙일 수 있다. 예를들어 "www.naver.com" 처럼 !
    - 주로 사용자는 문자로 표기된 도메인 이름으로 상대 컴퓨터를 지목한다.
    - 그러나 컴퓨터는 숫자를 더 선호하기에 DNS가 이 문제를 해결해준다.
    - DNS는 도메인명을 통해 IP 주소를 확인하고, 반대로 IP 주소를 통해 도메인명을 확인하는 서비스를 제공한다.
    
    




